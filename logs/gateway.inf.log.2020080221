[INFO][2020-08-02T21:00:19.613][log.go:58] _com_request_in||uri=/service/service_add_http||args=map[]||cspanid=||spanid=f337b8e21a714cf8||method=POST||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"172.17.0.1:80\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"test.com\",\n  \"rule_type\": 1,\n  \"service_desc\": \"a\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"111111\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"\"\n}||from=172.31.50.45||traceid=ac1100015f26b8e3ad184e4054502fb0
[INFO][2020-08-02T21:00:19.613][log.go:58] _com_mysql_success||current_time=2020-08-02 21:00:19||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = '111111')||affected_row=0||cspanid=||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_info.go:77||proc_time=0.000843s||traceid=ac1100015f26b8e3ad184e4054502fb0||spanid=f337b8e21a714cf8
[INFO][2020-08-02T21:00:19.613][log.go:58] _com_mysql_success||cspanid=||spanid=f337b8e21a714cf8||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:30||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`rule_type` = '1') AND (`gateway_service_http_rule`.`rule` = 'test.com')||traceid=ac1100015f26b8e3ad184e4054502fb0||current_time=2020-08-02 21:00:19||proc_time=0.000651s||affected_row=1
[INFO][2020-08-02T21:00:19.613][log.go:58] _com_request_out||method=POST||args=map[]||response={\"errno\":2003,\"errmsg\":\"服务接入前缀或域名已存在\",\"data\":\"\",\"trace_id\":\"ac1100015f26b8e3ad184e4054502fb0\",\"stack\":\"github.com/jstang9527/gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/root/go/src/github.com/jstang9527/gateway/controller/service.go:174\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.TranslationMiddleware.func1\\n\\t/root/go/src/github.com/jstang9527/gateway/middleware/translation.go:148\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.SessionAuthMiddleware.func1\\n\\t/root/go/src/github.com/jstang9527/gateway/middleware/session_auth.go:21\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.RequestLog.func1\\n\\t/root/go/src/github.com/jstang9527/gateway/middleware/request_log.go:61\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.RecoveryMiddleware.func1\\n\\t/root/go/src/github.com/jstang9527/gateway/middleware/recovery.go:32\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/root/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2807\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1895\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1373\"}||proc_time=0.00331118||traceid=ac1100015f26b8e3ad184e4054502fb0||cspanid=||spanid=f337b8e21a714cf8||uri=/service/service_add_http||from=172.31.50.45
[INFO][2020-08-02T21:27:55.951][log.go:58] _com_request_in||traceid=ac1100015f26bf5b37d14c9e104dc7b0||uri=/service/service_add_http||args=map[]||from=172.31.50.45||cspanid=||spanid=f337bf5a380704bb||method=POST||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:18888\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"/test_http_service_indb\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_http_service_indb\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_http_service_indb\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"\"\n}
[INFO][2020-08-02T21:27:55.951][log.go:58] _com_mysql_success||current_time=2020-08-02 21:27:55||proc_time=0.000830s||affected_row=0||cspanid=||spanid=f337bf5a380704bb||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_info.go:77||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = 'test_http_service_indb')||traceid=ac1100015f26bf5b37d14c9e104dc7b0
[INFO][2020-08-02T21:27:55.951][log.go:58] _com_mysql_success||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:30||proc_time=0.000449s||spanid=f337bf5a380704bb||level=sql||current_time=2020-08-02 21:27:55||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`rule` = '/test_http_service_indb')||affected_row=0||traceid=ac1100015f26bf5b37d14c9e104dc7b0||cspanid=
[INFO][2020-08-02T21:27:55.951][log.go:58] _com_mysql_success||affected_row=1||traceid=ac1100015f26bf5b37d14c9e104dc7b0||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_info.go:86||sql=INSERT INTO `gateway_service_info` (`load_type`,`service_name`,`service_desc`,`update_at`,`create_at`,`is_delete`) VALUES ('0','test_http_service_indb','test_http_service_indb','2020-08-02 21:27:55','2020-08-02 21:27:55','0')||cspanid=||spanid=f337bf5a380704bb||current_time=2020-08-02 21:27:55||proc_time=0.000820s
[INFO][2020-08-02T21:27:55.951][log.go:58] _com_mysql_success||traceid=ac1100015f26bf5b37d14c9e104dc7b0||spanid=f337bf5a380704bb||level=sql||current_time=2020-08-02 21:27:55||proc_time=0.000516s||sql=INSERT INTO `gateway_service_http_rule` (`service_id`,`rule_type`,`rule`,`need_https`,`need_websocket`,`need_strip_uri`,`url_rewrite`,`header_transfor`) VALUES ('62','0','/test_http_service_indb','0','0','0','','')||affected_row=1||cspanid=||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:36
[INFO][2020-08-02T21:27:55.951][log.go:58] _com_mysql_success||proc_time=0.000599s||affected_row=1||cspanid=||spanid=f337bf5a380704bb||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_access_control.go:35||current_time=2020-08-02 21:27:55||sql=INSERT INTO `gateway_service_access_control` (`service_id`,`open_auth`,`black_list`,`white_list`,`white_host_name`,`clientip_flow_limit`,`service_flow_limit`) VALUES ('62','0','','','','0','0')||traceid=ac1100015f26bf5b37d14c9e104dc7b0
[INFO][2020-08-02T21:27:55.951][log.go:58] _com_mysql_success||proc_time=0.000539s||sql=INSERT INTO `gateway_service_load_balance` (`service_id`,`check_method`,`check_timeout`,`check_interval`,`round_type`,`ip_list`,`weight_list`,`forbid_list`,`upstream_connect_timeout`,`upstream_header_timeout`,`upstream_idle_timeout`,`upstream_max_idle`) VALUES ('62','0','0','0','0','127.0.0.1:18888','50','','0','0','0','0')||affected_row=1||spanid=f337bf5a380704bb||source=/root/go/src/github.com/jstang9527/gateway/dao/service_load_balance.go:43||current_time=2020-08-02 21:27:55||traceid=ac1100015f26bf5b37d14c9e104dc7b0||cspanid=||level=sql
[INFO][2020-08-02T21:27:55.951][log.go:58] _com_request_out||proc_time=0.009410052||cspanid=||uri=/service/service_add_http||method=POST||args=map[]||spanid=f337bf5a380704bb||from=172.31.50.45||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"create service [test_http_service_indb] success.\",\"trace_id\":\"ac1100015f26bf5b37d14c9e104dc7b0\",\"stack\":null}||traceid=ac1100015f26bf5b37d14c9e104dc7b0
[INFO][2020-08-02T21:28:00.374][log.go:58] _com_request_in||uri=/service/service_add_http||method=POST||traceid=ac1100015f26bf60c9184c9e3a768bb0||spanid=f337bf6125845c95||args=map[]||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"127.0.0.1:18888\",\n  \"need_https\": 0,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"/test_http_service_indb\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_http_service_indb\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_http_service_indb\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"\"\n}||from=172.31.50.45||cspanid=
[INFO][2020-08-02T21:28:00.374][log.go:58] _com_mysql_success||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_info.go:77||current_time=2020-08-02 21:28:00||proc_time=0.001876s||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = 'test_http_service_indb')||affected_row=1||traceid=ac1100015f26bf60c9184c9e3a768bb0||cspanid=||spanid=f337bf6125845c95
[INFO][2020-08-02T21:28:00.374][log.go:58] _com_request_out||response={\"errno\":2002,\"errmsg\":\"服务已存在\",\"data\":\"\",\"trace_id\":\"ac1100015f26bf60c9184c9e3a768bb0\",\"stack\":\"github.com/jstang9527/gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/root/go/src/github.com/jstang9527/gateway/controller/service.go:170\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.TranslationMiddleware.func1\\n\\t/root/go/src/github.com/jstang9527/gateway/middleware/translation.go:148\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.SessionAuthMiddleware.func1\\n\\t/root/go/src/github.com/jstang9527/gateway/middleware/session_auth.go:21\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.RequestLog.func1\\n\\t/root/go/src/github.com/jstang9527/gateway/middleware/request_log.go:61\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.RecoveryMiddleware.func1\\n\\t/root/go/src/github.com/jstang9527/gateway/middleware/recovery.go:32\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/root/go/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/root/go/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2807\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1895\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1373\"}||proc_time=0.00666235||cspanid=||spanid=f337bf6125845c95||args=map[]||from=172.31.50.45||traceid=ac1100015f26bf60c9184c9e3a768bb0||uri=/service/service_add_http||method=POST
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_request_in||uri=/service/service_list?page_no=1&page_size=20&info=&page=1||method=GET||args=map[]||body=||from=172.31.50.45||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=||spanid=f337bf7a2e3108da
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=||level=sql||current_time=2020-08-02 21:28:27||proc_time=0.001317s||sql=SELECT * FROM `gateway_service_info`  WHERE (is_delete=0) ORDER BY id desc LIMIT 20 OFFSET 0||source=/root/go/src/github.com/jstang9527/gateway/dao/service_info.go:99||affected_row=7||spanid=f337bf7a2e3108da
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||level=sql||proc_time=0.000801s||sql=SELECT count(*) FROM `gateway_service_info`  WHERE (is_delete=0) LIMIT 20 OFFSET 0||affected_row=0||spanid=f337bf7a2e3108da||source=/root/go/src/github.com/jstang9527/gateway/dao/service_info.go:102||current_time=2020-08-02 21:28:27||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||proc_time=0.001631s||traceid=ac1100015f26bf7b29584c9e02070fb0||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '62')||affected_row=1||cspanid=||spanid=f337bf7a2e3108da||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:30||current_time=2020-08-02 21:28:27
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||source=/root/go/src/github.com/jstang9527/gateway/dao/service_tcp_rule.go:24||proc_time=0.001634s||affected_row=0||traceid=ac1100015f26bf7b29584c9e02070fb0||level=sql||current_time=2020-08-02 21:28:27||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '62')||cspanid=||spanid=f337bf7a2e3108da
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||source=/root/go/src/github.com/jstang9527/gateway/dao/service_grpc_rule.go:25||current_time=2020-08-02 21:28:27||affected_row=0||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=||spanid=f337bf7a2e3108da||level=sql||proc_time=0.001453s||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '62')
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||spanid=f337bf7a2e3108da||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_access_control.go:29||current_time=2020-08-02 21:28:27||proc_time=0.001345s||affected_row=1||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '62')
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||source=/root/go/src/github.com/jstang9527/gateway/dao/service_load_balance.go:37||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '62')||affected_row=1||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=||spanid=f337bf7a2e3108da||level=sql||current_time=2020-08-02 21:28:27||proc_time=0.001419s
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||level=sql||affected_row=1||spanid=f337bf7a2e3108da||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:30||current_time=2020-08-02 21:28:27||proc_time=0.001346s||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '61')
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||source=/root/go/src/github.com/jstang9527/gateway/dao/service_tcp_rule.go:24||proc_time=0.001021s||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '61')||cspanid=||level=sql||current_time=2020-08-02 21:28:27||affected_row=0||traceid=ac1100015f26bf7b29584c9e02070fb0||spanid=f337bf7a2e3108da
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||source=/root/go/src/github.com/jstang9527/gateway/dao/service_grpc_rule.go:25||proc_time=0.001100s||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=||spanid=f337bf7a2e3108da||level=sql||current_time=2020-08-02 21:28:27||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '61')||affected_row=0
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '61')||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_access_control.go:29||current_time=2020-08-02 21:28:27||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=||spanid=f337bf7a2e3108da||proc_time=0.001090s||affected_row=1
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||level=sql||current_time=2020-08-02 21:28:27||proc_time=0.001140s||affected_row=1||cspanid=||source=/root/go/src/github.com/jstang9527/gateway/dao/service_load_balance.go:37||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '61')||traceid=ac1100015f26bf7b29584c9e02070fb0||spanid=f337bf7a2e3108da
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||proc_time=0.000858s||traceid=ac1100015f26bf7b29584c9e02070fb0||spanid=f337bf7a2e3108da||affected_row=1||cspanid=||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:30||current_time=2020-08-02 21:28:27||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '60')
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_tcp_rule.go:24||current_time=2020-08-02 21:28:27||proc_time=0.000634s||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '60')||affected_row=0||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=||spanid=f337bf7a2e3108da
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||level=sql||current_time=2020-08-02 21:28:27||affected_row=0||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=||spanid=f337bf7a2e3108da||source=/root/go/src/github.com/jstang9527/gateway/dao/service_grpc_rule.go:25||proc_time=0.000604s||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '60')
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||source=/root/go/src/github.com/jstang9527/gateway/dao/service_access_control.go:29||current_time=2020-08-02 21:28:27||spanid=f337bf7a2e3108da||level=sql||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '60')||affected_row=1||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=||proc_time=0.000843s
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=||spanid=f337bf7a2e3108da||source=/root/go/src/github.com/jstang9527/gateway/dao/service_load_balance.go:37||current_time=2020-08-02 21:28:27||proc_time=0.000819s||level=sql||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '60')||affected_row=1
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||level=sql||cspanid=||spanid=f337bf7a2e3108da||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:30||current_time=2020-08-02 21:28:27||proc_time=0.000698s||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '59')||affected_row=1||traceid=ac1100015f26bf7b29584c9e02070fb0
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||level=sql||current_time=2020-08-02 21:28:27||proc_time=0.000673s||traceid=ac1100015f26bf7b29584c9e02070fb0||source=/root/go/src/github.com/jstang9527/gateway/dao/service_tcp_rule.go:24||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '59')||affected_row=0||cspanid=||spanid=f337bf7a2e3108da
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||spanid=f337bf7a2e3108da||current_time=2020-08-02 21:28:27||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '59')||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_grpc_rule.go:25||proc_time=0.000594s||affected_row=0
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '59')||affected_row=1||traceid=ac1100015f26bf7b29584c9e02070fb0||spanid=f337bf7a2e3108da||source=/root/go/src/github.com/jstang9527/gateway/dao/service_access_control.go:29||current_time=2020-08-02 21:28:27||proc_time=0.000860s||cspanid=||level=sql
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_load_balance.go:37||proc_time=0.000814s||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '59')||traceid=ac1100015f26bf7b29584c9e02070fb0||spanid=f337bf7a2e3108da||current_time=2020-08-02 21:28:27||affected_row=1||cspanid=
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||cspanid=||spanid=f337bf7a2e3108da||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:30||proc_time=0.000730s||affected_row=0||level=sql||current_time=2020-08-02 21:28:27||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '58')||traceid=ac1100015f26bf7b29584c9e02070fb0
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=||spanid=f337bf7a2e3108da||level=sql||proc_time=0.000734s||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '58')||source=/root/go/src/github.com/jstang9527/gateway/dao/service_tcp_rule.go:24||current_time=2020-08-02 21:28:27||affected_row=0
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=||affected_row=1||source=/root/go/src/github.com/jstang9527/gateway/dao/service_grpc_rule.go:25||current_time=2020-08-02 21:28:27||proc_time=0.000713s||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '58')||spanid=f337bf7a2e3108da||level=sql
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||cspanid=||source=/root/go/src/github.com/jstang9527/gateway/dao/service_access_control.go:29||proc_time=0.000701s||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '58')||traceid=ac1100015f26bf7b29584c9e02070fb0||spanid=f337bf7a2e3108da||level=sql||current_time=2020-08-02 21:28:27||affected_row=1
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||source=/root/go/src/github.com/jstang9527/gateway/dao/service_load_balance.go:37||proc_time=0.000768s||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '58')||affected_row=1||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=||spanid=f337bf7a2e3108da||level=sql||current_time=2020-08-02 21:28:27
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||affected_row=0||cspanid=||spanid=f337bf7a2e3108da||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:30||current_time=2020-08-02 21:28:27||proc_time=0.000604s||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '57')||traceid=ac1100015f26bf7b29584c9e02070fb0
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '57')||affected_row=1||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=||spanid=f337bf7a2e3108da||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_tcp_rule.go:24||current_time=2020-08-02 21:28:27||proc_time=0.000677s
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||current_time=2020-08-02 21:28:27||proc_time=0.000771s||affected_row=0||traceid=ac1100015f26bf7b29584c9e02070fb0||level=sql||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '57')||cspanid=||spanid=f337bf7a2e3108da||source=/root/go/src/github.com/jstang9527/gateway/dao/service_grpc_rule.go:25
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '57')||affected_row=1||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_access_control.go:29||current_time=2020-08-02 21:28:27||cspanid=||spanid=f337bf7a2e3108da||proc_time=0.000734s||traceid=ac1100015f26bf7b29584c9e02070fb0
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_load_balance.go:37||current_time=2020-08-02 21:28:27||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '57')||affected_row=1||proc_time=0.001018s||spanid=f337bf7a2e3108da
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:30||affected_row=1||cspanid=||spanid=f337bf7a2e3108da||current_time=2020-08-02 21:28:27||proc_time=0.000742s||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '56')||traceid=ac1100015f26bf7b29584c9e02070fb0
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||spanid=f337bf7a2e3108da||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '56')||affected_row=0||proc_time=0.000586s||traceid=ac1100015f26bf7b29584c9e02070fb0||cspanid=||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_tcp_rule.go:24||current_time=2020-08-02 21:28:27
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '56')||affected_row=0||traceid=ac1100015f26bf7b29584c9e02070fb0||source=/root/go/src/github.com/jstang9527/gateway/dao/service_grpc_rule.go:25||proc_time=0.000737s||cspanid=||spanid=f337bf7a2e3108da||level=sql||current_time=2020-08-02 21:28:27
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||source=/root/go/src/github.com/jstang9527/gateway/dao/service_access_control.go:29||proc_time=0.000750s||traceid=ac1100015f26bf7b29584c9e02070fb0||level=sql||current_time=2020-08-02 21:28:27||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '56')||affected_row=1||cspanid=||spanid=f337bf7a2e3108da
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_mysql_success||cspanid=||spanid=f337bf7a2e3108da||level=sql||current_time=2020-08-02 21:28:27||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '56')||affected_row=1||traceid=ac1100015f26bf7b29584c9e02070fb0||source=/root/go/src/github.com/jstang9527/gateway/dao/service_load_balance.go:37||proc_time=0.001180s
[INFO][2020-08-02T21:28:27.354][log.go:58] _com_request_out||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"total\":7,\"list\":[{\"id\":62,\"service_name\":\"test_http_service_indb\",\"service_desc\":\"test_http_service_indb\",\"load_type\":0,\"service_addr\":\"172.31.50.254:8880/test_http_service_indb\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":61,\"service_name\":\"test_https_server\",\"service_desc\":\"测试https服务\",\"load_type\":0,\"service_addr\":\"172.31.50.254:4880/test_https_server\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":60,\"service_name\":\"test_strip_uri\",\"service_desc\":\"测试路径接入\",\"load_type\":0,\"service_addr\":\"172.31.50.254:8880/test_strip_uri\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":59,\"service_name\":\"test.com:8080\",\"service_desc\":\"测试域名接入\",\"load_type\":0,\"service_addr\":\"test.com\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":58,\"service_name\":\"test_grpc_service\",\"service_desc\":\"测试GRPC服务\",\"load_type\":2,\"service_addr\":\"172.31.50.254:8012\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":57,\"service_name\":\"test_tcp_service\",\"service_desc\":\"测试TCP代理\",\"load_type\":1,\"service_addr\":\"172.31.50.254:8011\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":56,\"service_name\":\"test_http_service\",\"service_desc\":\"测试HTTP代理\",\"load_type\":0,\"service_addr\":\"172.31.50.254:4880/test_http_service\",\"qps\":0,\"qpd\":0,\"total_node\":2}]},\"trace_id\":\"ac1100015f26bf7b29584c9e02070fb0\",\"stack\":null}||cspanid=||traceid=ac1100015f26bf7b29584c9e02070fb0||spanid=f337bf7a2e3108da||uri=/service/service_list?page_no=1&page_size=20&info=&page=1||method=GET||args=map[]||from=172.31.50.45||proc_time=0.040609317
[INFO][2020-08-02T21:44:07.293][log.go:58] _com_request_in||traceid=ac1100015f26c327569a036a104dc7b0||method=POST||body={\n  \"black_list\": \"\",\n  \"clientip_flow_limit\": 0,\n  \"header_transfor\": \"\",\n  \"ip_list\": \"47.92.255.39:8081\",\n  \"need_https\": 1,\n  \"need_strip_uri\": 0,\n  \"need_websocket\": 0,\n  \"open_auth\": 0,\n  \"round_type\": 0,\n  \"rule\": \"/test_ssl_service\",\n  \"rule_type\": 0,\n  \"service_desc\": \"test_ssl_service\",\n  \"service_flow_limit\": 0,\n  \"service_name\": \"test_ssl_service\",\n  \"upstream_connect_timeout\": 0,\n  \"upstream_header_timeout\": 0,\n  \"upstream_idle_timeout\": 0,\n  \"upstream_max_idle\": 0,\n  \"url_rewrite\": \"\",\n  \"weight_list\": \"50\",\n  \"white_list\": \"\"\n}||from=172.31.50.45||cspanid=||spanid=f337c326380704bb||uri=/service/service/http||args=map[]
[INFO][2020-08-02T21:44:07.293][log.go:58] _com_mysql_success||affected_row=0||cspanid=||source=/root/go/src/github.com/jstang9527/gateway/dao/service_info.go:77||current_time=2020-08-02 21:44:07||proc_time=0.001745s||sql=SELECT * FROM `gateway_service_info`  WHERE (`gateway_service_info`.`service_name` = 'test_ssl_service')||traceid=ac1100015f26c327569a036a104dc7b0||spanid=f337c326380704bb||level=sql
[INFO][2020-08-02T21:44:07.293][log.go:58] _com_mysql_success||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:30||proc_time=0.001128s||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`rule` = '/test_ssl_service')||spanid=f337c326380704bb||level=sql||current_time=2020-08-02 21:44:07||affected_row=0||traceid=ac1100015f26c327569a036a104dc7b0||cspanid=
[INFO][2020-08-02T21:44:07.293][log.go:58] _com_mysql_success||affected_row=1||traceid=ac1100015f26c327569a036a104dc7b0||cspanid=||source=/root/go/src/github.com/jstang9527/gateway/dao/service_info.go:86||current_time=2020-08-02 21:44:07||proc_time=0.000920s||sql=INSERT INTO `gateway_service_info` (`load_type`,`service_name`,`service_desc`,`update_at`,`create_at`,`is_delete`) VALUES ('0','test_ssl_service','test_ssl_service','2020-08-02 21:44:07','2020-08-02 21:44:07','0')||level=sql||spanid=f337c326380704bb
[INFO][2020-08-02T21:44:07.293][log.go:58] _com_mysql_success||cspanid=||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:36||affected_row=1||traceid=ac1100015f26c327569a036a104dc7b0||sql=INSERT INTO `gateway_service_http_rule` (`service_id`,`rule_type`,`rule`,`need_https`,`need_websocket`,`need_strip_uri`,`url_rewrite`,`header_transfor`) VALUES ('63','0','/test_ssl_service','1','0','0','','')||spanid=f337c326380704bb||level=sql||current_time=2020-08-02 21:44:07||proc_time=0.000752s
[INFO][2020-08-02T21:44:07.293][log.go:58] _com_mysql_success||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_access_control.go:35||proc_time=0.000740s||sql=INSERT INTO `gateway_service_access_control` (`service_id`,`open_auth`,`black_list`,`white_list`,`white_host_name`,`clientip_flow_limit`,`service_flow_limit`) VALUES ('63','0','','','','0','0')||affected_row=1||spanid=f337c326380704bb||current_time=2020-08-02 21:44:07||traceid=ac1100015f26c327569a036a104dc7b0||cspanid=
[INFO][2020-08-02T21:44:07.293][log.go:58] _com_mysql_success||proc_time=0.000808s||affected_row=1||traceid=ac1100015f26c327569a036a104dc7b0||cspanid=||spanid=f337c326380704bb||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_load_balance.go:43||current_time=2020-08-02 21:44:07||sql=INSERT INTO `gateway_service_load_balance` (`service_id`,`check_method`,`check_timeout`,`check_interval`,`round_type`,`ip_list`,`weight_list`,`forbid_list`,`upstream_connect_timeout`,`upstream_header_timeout`,`upstream_idle_timeout`,`upstream_max_idle`) VALUES ('63','0','0','0','0','47.92.255.39:8081','50','','0','0','0','0')
[INFO][2020-08-02T21:44:07.293][log.go:58] _com_request_out||uri=/service/service/http||method=POST||from=172.31.50.45||cspanid=||spanid=f337c326380704bb||args=map[]||response={\"errno\":0,\"errmsg\":\"\",\"data\":\"create service [test_ssl_service] success.\",\"trace_id\":\"ac1100015f26c327569a036a104dc7b0\",\"stack\":null}||proc_time=0.012337052||traceid=ac1100015f26c327569a036a104dc7b0
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_request_in||method=GET||body=||traceid=ac1100015f26c32d3c25036a3a768bb0||cspanid=||uri=/admin/admin_info?token=admin||args=map[]||from=172.31.50.45||spanid=f337c32c25845c95
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_request_out||uri=/admin/admin_info?token=admin||method=GET||proc_time=0.002288126||args=map[]||from=172.31.50.45||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"id\":1,\"user_name\":\"admin\",\"login_time\":\"2020-08-01T21:11:39.798710821+08:00\",\"avatar\":\"https://zan71.com/cdn-img/icon/avatar/tx.gif\",\"introduction\":\"super administrator\",\"roles\":[\"admin\"]},\"trace_id\":\"ac1100015f26c32d3c25036a3a768bb0\",\"stack\":null}||traceid=ac1100015f26c32d3c25036a3a768bb0||cspanid=||spanid=f337c32c25845c95
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_request_in||args=map[]||from=172.31.50.45||body=||traceid=ac1100015f26c32daa41036aec3f25b0||cspanid=||spanid=f337c32c1bf98be2||uri=/service/service_list?page_no=1&page_size=20&info=&page=1||method=GET
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||level=sql||current_time=2020-08-02 21:44:13||cspanid=||spanid=f337c32c1bf98be2||source=/root/go/src/github.com/jstang9527/gateway/dao/service_info.go:99||proc_time=0.001366s||sql=SELECT * FROM `gateway_service_info`  WHERE (is_delete=0) ORDER BY id desc LIMIT 20 OFFSET 0||affected_row=8||traceid=ac1100015f26c32daa41036aec3f25b0
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||cspanid=||source=/root/go/src/github.com/jstang9527/gateway/dao/service_info.go:102||proc_time=0.000559s||sql=SELECT count(*) FROM `gateway_service_info`  WHERE (is_delete=0) LIMIT 20 OFFSET 0||affected_row=0||traceid=ac1100015f26c32daa41036aec3f25b0||spanid=f337c32c1bf98be2||level=sql||current_time=2020-08-02 21:44:13
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:30||proc_time=0.000996s||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '63')||cspanid=||spanid=f337c32c1bf98be2||current_time=2020-08-02 21:44:13||affected_row=1||traceid=ac1100015f26c32daa41036aec3f25b0
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||affected_row=0||traceid=ac1100015f26c32daa41036aec3f25b0||cspanid=||spanid=f337c32c1bf98be2||level=sql||current_time=2020-08-02 21:44:13||proc_time=0.000612s||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '63')||source=/root/go/src/github.com/jstang9527/gateway/dao/service_tcp_rule.go:24
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_grpc_rule.go:25||proc_time=0.000811s||traceid=ac1100015f26c32daa41036aec3f25b0||cspanid=||current_time=2020-08-02 21:44:13||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '63')||affected_row=0||spanid=f337c32c1bf98be2
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||affected_row=1||spanid=f337c32c1bf98be2||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_access_control.go:29||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '63')||traceid=ac1100015f26c32daa41036aec3f25b0||cspanid=||current_time=2020-08-02 21:44:13||proc_time=0.000867s
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||cspanid=||spanid=f337c32c1bf98be2||current_time=2020-08-02 21:44:13||proc_time=0.000976s||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '63')||affected_row=1||traceid=ac1100015f26c32daa41036aec3f25b0||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_load_balance.go:37
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:30||proc_time=0.000811s||spanid=f337c32c1bf98be2||level=sql||current_time=2020-08-02 21:44:13||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '62')||affected_row=1||traceid=ac1100015f26c32daa41036aec3f25b0||cspanid=
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||source=/root/go/src/github.com/jstang9527/gateway/dao/service_tcp_rule.go:24||cspanid=||spanid=f337c32c1bf98be2||level=sql||current_time=2020-08-02 21:44:13||proc_time=0.000544s||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '62')||affected_row=0||traceid=ac1100015f26c32daa41036aec3f25b0
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_grpc_rule.go:25||proc_time=0.000708s||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '62')||spanid=f337c32c1bf98be2||current_time=2020-08-02 21:44:13||affected_row=0||traceid=ac1100015f26c32daa41036aec3f25b0||cspanid=
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_access_control.go:29||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '62')||cspanid=||spanid=f337c32c1bf98be2||current_time=2020-08-02 21:44:13||proc_time=0.000642s||affected_row=1||traceid=ac1100015f26c32daa41036aec3f25b0
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||level=sql||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '62')||affected_row=1||spanid=f337c32c1bf98be2||source=/root/go/src/github.com/jstang9527/gateway/dao/service_load_balance.go:37||current_time=2020-08-02 21:44:13||proc_time=0.000731s||traceid=ac1100015f26c32daa41036aec3f25b0||cspanid=
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:30||current_time=2020-08-02 21:44:13||proc_time=0.000624s||spanid=f337c32c1bf98be2||level=sql||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '61')||affected_row=1||traceid=ac1100015f26c32daa41036aec3f25b0||cspanid=
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||proc_time=0.000600s||affected_row=0||spanid=f337c32c1bf98be2||current_time=2020-08-02 21:44:13||source=/root/go/src/github.com/jstang9527/gateway/dao/service_tcp_rule.go:24||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '61')||traceid=ac1100015f26c32daa41036aec3f25b0||cspanid=||level=sql
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||source=/root/go/src/github.com/jstang9527/gateway/dao/service_grpc_rule.go:25||current_time=2020-08-02 21:44:13||affected_row=0||cspanid=||traceid=ac1100015f26c32daa41036aec3f25b0||spanid=f337c32c1bf98be2||level=sql||proc_time=0.000529s||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '61')
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||level=sql||current_time=2020-08-02 21:44:13||cspanid=||spanid=f337c32c1bf98be2||source=/root/go/src/github.com/jstang9527/gateway/dao/service_access_control.go:29||proc_time=0.000616s||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '61')||affected_row=1||traceid=ac1100015f26c32daa41036aec3f25b0
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||level=sql||current_time=2020-08-02 21:44:13||proc_time=0.000698s||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '61')||cspanid=||source=/root/go/src/github.com/jstang9527/gateway/dao/service_load_balance.go:37||affected_row=1||traceid=ac1100015f26c32daa41036aec3f25b0||spanid=f337c32c1bf98be2
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||traceid=ac1100015f26c32daa41036aec3f25b0||cspanid=||spanid=f337c32c1bf98be2||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:30||current_time=2020-08-02 21:44:13||proc_time=0.000676s||level=sql||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '60')||affected_row=1
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||source=/root/go/src/github.com/jstang9527/gateway/dao/service_tcp_rule.go:24||current_time=2020-08-02 21:44:13||proc_time=0.000490s||affected_row=0||traceid=ac1100015f26c32daa41036aec3f25b0||spanid=f337c32c1bf98be2||level=sql||cspanid=||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '60')
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||current_time=2020-08-02 21:44:13||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '60')||spanid=f337c32c1bf98be2||source=/root/go/src/github.com/jstang9527/gateway/dao/service_grpc_rule.go:25||proc_time=0.000542s||affected_row=0||traceid=ac1100015f26c32daa41036aec3f25b0||cspanid=||level=sql
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||level=sql||current_time=2020-08-02 21:44:13||affected_row=1||traceid=ac1100015f26c32daa41036aec3f25b0||source=/root/go/src/github.com/jstang9527/gateway/dao/service_access_control.go:29||proc_time=0.000625s||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '60')||cspanid=||spanid=f337c32c1bf98be2
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_load_balance.go:37||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '60')||traceid=ac1100015f26c32daa41036aec3f25b0||spanid=f337c32c1bf98be2||current_time=2020-08-02 21:44:13||proc_time=0.000670s||affected_row=1||cspanid=
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:30||current_time=2020-08-02 21:44:13||proc_time=0.000570s||affected_row=1||traceid=ac1100015f26c32daa41036aec3f25b0||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '59')||cspanid=||spanid=f337c32c1bf98be2
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||current_time=2020-08-02 21:44:13||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '59')||affected_row=0||cspanid=||spanid=f337c32c1bf98be2||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_tcp_rule.go:24||proc_time=0.000449s||traceid=ac1100015f26c32daa41036aec3f25b0
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||cspanid=||spanid=f337c32c1bf98be2||proc_time=0.000484s||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '59')||affected_row=0||traceid=ac1100015f26c32daa41036aec3f25b0||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_grpc_rule.go:25||current_time=2020-08-02 21:44:13
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||level=sql||current_time=2020-08-02 21:44:13||proc_time=0.000571s||affected_row=1||cspanid=||source=/root/go/src/github.com/jstang9527/gateway/dao/service_access_control.go:29||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '59')||traceid=ac1100015f26c32daa41036aec3f25b0||spanid=f337c32c1bf98be2
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||level=sql||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '59')||affected_row=1||traceid=ac1100015f26c32daa41036aec3f25b0||cspanid=||source=/root/go/src/github.com/jstang9527/gateway/dao/service_load_balance.go:37||current_time=2020-08-02 21:44:13||proc_time=0.000645s||spanid=f337c32c1bf98be2
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||proc_time=0.000515s||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '58')||affected_row=0||cspanid=||spanid=f337c32c1bf98be2||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:30||traceid=ac1100015f26c32daa41036aec3f25b0||current_time=2020-08-02 21:44:13
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||cspanid=||source=/root/go/src/github.com/jstang9527/gateway/dao/service_tcp_rule.go:24||current_time=2020-08-02 21:44:13||affected_row=0||traceid=ac1100015f26c32daa41036aec3f25b0||spanid=f337c32c1bf98be2||level=sql||proc_time=0.000528s||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '58')
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_grpc_rule.go:25||proc_time=0.000552s||affected_row=1||current_time=2020-08-02 21:44:13||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '58')||traceid=ac1100015f26c32daa41036aec3f25b0||cspanid=||spanid=f337c32c1bf98be2
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||traceid=ac1100015f26c32daa41036aec3f25b0||spanid=f337c32c1bf98be2||level=sql||proc_time=0.000541s||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '58')||affected_row=1||source=/root/go/src/github.com/jstang9527/gateway/dao/service_access_control.go:29||current_time=2020-08-02 21:44:13||cspanid=
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||cspanid=||proc_time=0.000637s||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '58')||affected_row=1||traceid=ac1100015f26c32daa41036aec3f25b0||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_load_balance.go:37||current_time=2020-08-02 21:44:13||spanid=f337c32c1bf98be2
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||cspanid=||proc_time=0.000496s||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '57')||affected_row=0||traceid=ac1100015f26c32daa41036aec3f25b0||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:30||current_time=2020-08-02 21:44:13||spanid=f337c32c1bf98be2
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||cspanid=||proc_time=0.000505s||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '57')||current_time=2020-08-02 21:44:13||affected_row=1||traceid=ac1100015f26c32daa41036aec3f25b0||spanid=f337c32c1bf98be2||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_tcp_rule.go:24
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||cspanid=||spanid=f337c32c1bf98be2||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_grpc_rule.go:25||proc_time=0.000458s||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '57')||current_time=2020-08-02 21:44:13||affected_row=0||traceid=ac1100015f26c32daa41036aec3f25b0
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||affected_row=1||cspanid=||spanid=f337c32c1bf98be2||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_access_control.go:29||current_time=2020-08-02 21:44:13||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '57')||proc_time=0.000570s||traceid=ac1100015f26c32daa41036aec3f25b0
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||current_time=2020-08-02 21:44:13||proc_time=0.000589s||cspanid=||spanid=f337c32c1bf98be2||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_load_balance.go:37||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '57')||affected_row=1||traceid=ac1100015f26c32daa41036aec3f25b0
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||level=sql||affected_row=1||cspanid=||spanid=f337c32c1bf98be2||traceid=ac1100015f26c32daa41036aec3f25b0||source=/root/go/src/github.com/jstang9527/gateway/dao/service_http_rule.go:30||current_time=2020-08-02 21:44:13||proc_time=0.000575s||sql=SELECT * FROM `gateway_service_http_rule`  WHERE (`gateway_service_http_rule`.`service_id` = '56')
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||affected_row=0||cspanid=||spanid=f337c32c1bf98be2||source=/root/go/src/github.com/jstang9527/gateway/dao/service_tcp_rule.go:24||current_time=2020-08-02 21:44:13||proc_time=0.000471s||level=sql||sql=SELECT * FROM `gateway_service_tcp_rule`  WHERE (`gateway_service_tcp_rule`.`service_id` = '56')||traceid=ac1100015f26c32daa41036aec3f25b0
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||source=/root/go/src/github.com/jstang9527/gateway/dao/service_grpc_rule.go:25||proc_time=0.000467s||cspanid=||spanid=f337c32c1bf98be2||level=sql||current_time=2020-08-02 21:44:13||sql=SELECT * FROM `gateway_service_grpc_rule`  WHERE (`gateway_service_grpc_rule`.`service_id` = '56')||affected_row=0||traceid=ac1100015f26c32daa41036aec3f25b0
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||sql=SELECT * FROM `gateway_service_access_control`  WHERE (`gateway_service_access_control`.`service_id` = '56')||affected_row=1||traceid=ac1100015f26c32daa41036aec3f25b0||cspanid=||spanid=f337c32c1bf98be2||level=sql||source=/root/go/src/github.com/jstang9527/gateway/dao/service_access_control.go:29||current_time=2020-08-02 21:44:13||proc_time=0.000573s
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_mysql_success||level=sql||current_time=2020-08-02 21:44:13||sql=SELECT * FROM `gateway_service_load_balance`  WHERE (`gateway_service_load_balance`.`service_id` = '56')||affected_row=1||traceid=ac1100015f26c32daa41036aec3f25b0||cspanid=||source=/root/go/src/github.com/jstang9527/gateway/dao/service_load_balance.go:37||proc_time=0.000562s||spanid=f337c32c1bf98be2
[INFO][2020-08-02T21:44:13.550][log.go:58] _com_request_out||uri=/service/service_list?page_no=1&page_size=20&info=&page=1||method=GET||proc_time=0.035916864||cspanid=||traceid=ac1100015f26c32daa41036aec3f25b0||spanid=f337c32c1bf98be2||args=map[]||from=172.31.50.45||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"total\":8,\"list\":[{\"id\":63,\"service_name\":\"test_ssl_service\",\"service_desc\":\"test_ssl_service\",\"load_type\":0,\"service_addr\":\"172.31.50.254:4880/test_ssl_service\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":62,\"service_name\":\"test_http_service_indb\",\"service_desc\":\"test_http_service_indb\",\"load_type\":0,\"service_addr\":\"172.31.50.254:8880/test_http_service_indb\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":61,\"service_name\":\"test_https_server\",\"service_desc\":\"测试https服务\",\"load_type\":0,\"service_addr\":\"172.31.50.254:4880/test_https_server\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":60,\"service_name\":\"test_strip_uri\",\"service_desc\":\"测试路径接入\",\"load_type\":0,\"service_addr\":\"172.31.50.254:8880/test_strip_uri\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":59,\"service_name\":\"test.com:8080\",\"service_desc\":\"测试域名接入\",\"load_type\":0,\"service_addr\":\"test.com\",\"qps\":0,\"qpd\":0,\"total_node\":2},{\"id\":58,\"service_name\":\"test_grpc_service\",\"service_desc\":\"测试GRPC服务\",\"load_type\":2,\"service_addr\":\"172.31.50.254:8012\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":57,\"service_name\":\"test_tcp_service\",\"service_desc\":\"测试TCP代理\",\"load_type\":1,\"service_addr\":\"172.31.50.254:8011\",\"qps\":0,\"qpd\":0,\"total_node\":1},{\"id\":56,\"service_name\":\"test_http_service\",\"service_desc\":\"测试HTTP代理\",\"load_type\":0,\"service_addr\":\"172.31.50.254:4880/test_http_service\",\"qps\":0,\"qpd\":0,\"total_node\":2}]},\"trace_id\":\"ac1100015f26c32daa41036aec3f25b0\",\"stack\":null}
