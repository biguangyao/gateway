[INFO][2020-08-09T21:46:31.678][log.go:58] _com_request_in||body=||from=192.168.231.1||traceid=c0a8e7805f2ffe37654afd1c4ea6b6b0||uri=/admin/admin_info?token=admin||method=GET||args=map[]||cspanid=||spanid=9f8719b72778bbe2
[INFO][2020-08-09T21:46:31.678][log.go:58] _com_request_out||traceid=c0a8e7805f2ffe37654afd1c4ea6b6b0||spanid=9f8719b72778bbe2||method=GET||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"id\":1,\"user_name\":\"admin\",\"login_time\":\"2020-08-09T14:19:43.23054289+08:00\",\"avatar\":\"https://zan71.com/cdn-img/icon/avatar/tx.gif\",\"introduction\":\"super administrator\",\"roles\":[\"admin\"]},\"trace_id\":\"c0a8e7805f2ffe37654afd1c4ea6b6b0\",\"stack\":null}||proc_time=0.004068186||cspanid=||uri=/admin/admin_info?token=admin||args=map[]||from=192.168.231.1
[INFO][2020-08-09T21:46:37.455][log.go:58] _com_request_in||method=GET||args=map[]||traceid=c0a8e7805f2ffe3d899cfd1cd54336b0||spanid=9f8719bd400bb1cd||uri=/admin/admin_info?token=admin||body=||from=192.168.231.1||cspanid=
[INFO][2020-08-09T21:46:37.455][log.go:58] _com_request_out||from=192.168.231.1||proc_time=0.001566612||traceid=c0a8e7805f2ffe3d899cfd1cd54336b0||cspanid=||spanid=9f8719bd400bb1cd||uri=/admin/admin_info?token=admin||method=GET||args=map[]||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"id\":1,\"user_name\":\"admin\",\"login_time\":\"2020-08-09T14:19:43.23054289+08:00\",\"avatar\":\"https://zan71.com/cdn-img/icon/avatar/tx.gif\",\"introduction\":\"super administrator\",\"roles\":[\"admin\"]},\"trace_id\":\"c0a8e7805f2ffe3d899cfd1cd54336b0\",\"stack\":null}
[INFO][2020-08-09T21:46:53.746][log.go:58] _com_request_in||uri=/admin/admin_info?token=admin||args=map[]||from=192.168.231.1||traceid=c0a8e7805f2ffe4de033fd1c6b5085b0||spanid=9f8719cd387bfba4||method=GET||body=||cspanid=
[INFO][2020-08-09T21:46:53.746][log.go:58] _com_request_out||uri=/admin/admin_info?token=admin||from=192.168.231.1||proc_time=0.001506269||spanid=9f8719cd387bfba4||method=GET||args=map[]||response={\"errno\":0,\"errmsg\":\"\",\"data\":{\"id\":1,\"user_name\":\"admin\",\"login_time\":\"2020-08-09T14:19:43.23054289+08:00\",\"avatar\":\"https://zan71.com/cdn-img/icon/avatar/tx.gif\",\"introduction\":\"super administrator\",\"roles\":[\"admin\"]},\"trace_id\":\"c0a8e7805f2ffe4de033fd1c6b5085b0\",\"stack\":null}||traceid=c0a8e7805f2ffe4de033fd1c6b5085b0||cspanid=
[INFO][2020-08-09T21:49:10.431][log.go:58] _com_request_in||spanid=9f871956724f89ad||method=POST||body={\"service_name\":\"test_http_new2\",\"service_desc\":\"test_http_new2\",\"rule\":\"/test_http_new2\",\"rule_type\":0,\"need_https\":0,\"need_strip_uri\":1,\"need_websocket\":1,\"url_rewrite\":\"\",\"head_transfor\":\"\",\"open_auth\":0,\"white_list\":\"\",\"black_list\":\"\",\"round_type\":2,\"ip_list\":\"\",\"weight_list\":\"\"}||traceid=c0a8e7805f2ffed641ccfd1cc74ebbb0||cspanid=||uri=/service/service/http||args=map[]||from=192.168.231.1
[INFO][2020-08-09T21:49:10.431][log.go:58] _com_request_out||method=POST||from=192.168.231.1||traceid=c0a8e7805f2ffed641ccfd1cc74ebbb0||spanid=9f871956724f89ad||uri=/service/service/http||args=map[]||response={\"errno\":2000,\"errmsg\":\"ip列表为必填字段,权重列表为必填字段\",\"data\":\"\",\"trace_id\":\"c0a8e7805f2ffed641ccfd1cc74ebbb0\",\"stack\":\"github.com/jstang9527/gateway/public.DefaultGetValidParams\\n\\t/root/golib/src/github.com/jstang9527/gateway/public/params.go:34\\ngithub.com/jstang9527/gateway/dto.(*ServiceAddHTTPInput).BindValidParam\\n\\t/root/golib/src/github.com/jstang9527/gateway/dto/service.go:73\\ngithub.com/jstang9527/gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/root/golib/src/github.com/jstang9527/gateway/controller/service.go:203\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.TranslationMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/translation.go:148\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.SessionAuthMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/session_auth.go:21\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.RequestLog.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/request_log.go:61\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.RecoveryMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/recovery.go:32\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2807\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1895\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1373\"}||proc_time=0.002800504||cspanid=
[INFO][2020-08-09T21:50:07.984][log.go:58] _com_request_in||body={\"service_name\":\"test_http_new2\",\"service_desc\":\"test_http_new2\",\"rule\":\"/test_http_new2\",\"rule_type\":0,\"need_https\":0,\"need_strip_uri\":1,\"need_websocket\":1,\"url_rewrite\":\"\",\"head_transfor\":\"\",\"open_auth\":0,\"white_list\":\"\",\"black_list\":\"\",\"round_type\":2,\"ip_list\":\"\",\"weight_list\":\"\"}||traceid=c0a8e7805f2fff0f78c7fd1c5bc518b0||cspanid=||uri=/service/service/http||method=POST||args=map[]||from=192.168.231.1||spanid=9f87188f0869f233
[INFO][2020-08-09T21:50:07.984][log.go:58] _com_request_out||args=map[]||proc_time=0.001990623||traceid=c0a8e7805f2fff0f78c7fd1c5bc518b0||cspanid=||spanid=9f87188f0869f233||uri=/service/service/http||method=POST||from=192.168.231.1||response={\"errno\":2000,\"errmsg\":\"ip列表为必填字段,权重列表为必填字段\",\"data\":\"\",\"trace_id\":\"c0a8e7805f2fff0f78c7fd1c5bc518b0\",\"stack\":\"github.com/jstang9527/gateway/public.DefaultGetValidParams\\n\\t/root/golib/src/github.com/jstang9527/gateway/public/params.go:34\\ngithub.com/jstang9527/gateway/dto.(*ServiceAddHTTPInput).BindValidParam\\n\\t/root/golib/src/github.com/jstang9527/gateway/dto/service.go:73\\ngithub.com/jstang9527/gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/root/golib/src/github.com/jstang9527/gateway/controller/service.go:203\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.TranslationMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/translation.go:148\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.SessionAuthMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/session_auth.go:21\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.RequestLog.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/request_log.go:61\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.RecoveryMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/recovery.go:32\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2807\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1895\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1373\"}
[INFO][2020-08-09T21:50:14.984][log.go:58] _com_request_in||uri=/service/service/http||from=192.168.231.1||cspanid=||spanid=9f8718960f46a39a||method=POST||args=map[]||body={\"service_name\":\"test_http_new2\",\"service_desc\":\"test_http_new2\",\"rule\":\"/test_http_new2\",\"rule_type\":0,\"need_https\":0,\"need_strip_uri\":1,\"need_websocket\":1,\"url_rewrite\":\"\",\"head_transfor\":\"\",\"open_auth\":0,\"white_list\":\"\",\"black_list\":\"\",\"round_type\":2,\"ip_list\":\"\",\"weight_list\":\"\"}||traceid=c0a8e7805f2fff163f8efd1c34987db0
[INFO][2020-08-09T21:50:14.984][log.go:58] _com_request_out||traceid=c0a8e7805f2fff163f8efd1c34987db0||uri=/service/service/http||args=map[]||from=192.168.231.1||response={\"errno\":2000,\"errmsg\":\"ip列表为必填字段,权重列表为必填字段\",\"data\":\"\",\"trace_id\":\"c0a8e7805f2fff163f8efd1c34987db0\",\"stack\":\"github.com/jstang9527/gateway/public.DefaultGetValidParams\\n\\t/root/golib/src/github.com/jstang9527/gateway/public/params.go:34\\ngithub.com/jstang9527/gateway/dto.(*ServiceAddHTTPInput).BindValidParam\\n\\t/root/golib/src/github.com/jstang9527/gateway/dto/service.go:73\\ngithub.com/jstang9527/gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/root/golib/src/github.com/jstang9527/gateway/controller/service.go:203\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.TranslationMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/translation.go:148\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.SessionAuthMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/session_auth.go:21\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.RequestLog.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/request_log.go:61\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.RecoveryMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/recovery.go:32\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2807\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1895\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1373\"}||spanid=9f8718960f46a39a||method=POST||proc_time=0.001595304||cspanid=
[INFO][2020-08-09T21:53:22.010][log.go:58] _com_request_in||method=POST||args=map[]||traceid=c0a8e7805f2fffd21b62fd1cc02dd6b0||cspanid=||uri=/service/service/http||body={\"service_name\":\"test_http_new2\",\"service_desc\":\"test_http_new2\",\"rule\":\"/test_http_new2\",\"rule_type\":0,\"need_https\":0,\"need_strip_uri\":1,\"need_websocket\":1,\"url_rewrite\":\"\",\"head_transfor\":\"\",\"open_auth\":0,\"white_list\":\"\",\"black_list\":\"\",\"round_type\":2,\"ip_list\":\"127.0.0.1:80,127.0.0.1:81\",\"weight_list\":\"50,50\"}||from=192.168.231.1||spanid=9f87185266673a82
[INFO][2020-08-09T21:53:22.010][log.go:58] _com_request_out||args=map[]||from=192.168.231.1||proc_time=0.002097043||uri=/service/service/http||response={\"errno\":2000,\"errmsg\":\"权重列表 不符合输入格式\",\"data\":\"\",\"trace_id\":\"c0a8e7805f2fffd21b62fd1cc02dd6b0\",\"stack\":\"github.com/jstang9527/gateway/public.DefaultGetValidParams\\n\\t/root/golib/src/github.com/jstang9527/gateway/public/params.go:34\\ngithub.com/jstang9527/gateway/dto.(*ServiceAddHTTPInput).BindValidParam\\n\\t/root/golib/src/github.com/jstang9527/gateway/dto/service.go:73\\ngithub.com/jstang9527/gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/root/golib/src/github.com/jstang9527/gateway/controller/service.go:203\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.TranslationMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/translation.go:148\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.SessionAuthMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/session_auth.go:21\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.RequestLog.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/request_log.go:61\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.RecoveryMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/recovery.go:32\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2807\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1895\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1373\"}||traceid=c0a8e7805f2fffd21b62fd1cc02dd6b0||cspanid=||spanid=9f87185266673a82||method=POST
[INFO][2020-08-09T21:56:10.752][log.go:58] _com_request_in||uri=/service/service/http||method=POST||args=map[]||traceid=c0a8e7805f30007a26e34062104dc7b0||spanid=9f98e7fa380704bb||body={\"service_name\":\"test_http_new2\",\"service_desc\":\"test_http_new2\",\"rule\":\"/test_http_new2\",\"rule_type\":0,\"need_https\":0,\"need_strip_uri\":1,\"need_websocket\":1,\"url_rewrite\":\"\",\"head_transfor\":\"\",\"open_auth\":0,\"white_list\":\"\",\"black_list\":\"\",\"round_type\":2,\"ip_list\":\"127.0.0.1:80,127.0.0.1:81\",\"weight_list\":\"50,50\"}||from=192.168.231.1||cspanid=
[INFO][2020-08-09T21:56:10.752][log.go:58] _com_request_out||proc_time=0.002379359||cspanid=||spanid=9f98e7fa380704bb||args=map[]||response={\"errno\":2000,\"errmsg\":\"权重列表 不符合输入格式\",\"data\":\"\",\"trace_id\":\"c0a8e7805f30007a26e34062104dc7b0\",\"stack\":\"github.com/jstang9527/gateway/public.DefaultGetValidParams\\n\\t/root/golib/src/github.com/jstang9527/gateway/public/params.go:34\\ngithub.com/jstang9527/gateway/dto.(*ServiceAddHTTPInput).BindValidParam\\n\\t/root/golib/src/github.com/jstang9527/gateway/dto/service.go:73\\ngithub.com/jstang9527/gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/root/golib/src/github.com/jstang9527/gateway/controller/service.go:203\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.TranslationMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/translation.go:148\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.SessionAuthMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/session_auth.go:21\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.RequestLog.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/request_log.go:61\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.RecoveryMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/recovery.go:32\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2807\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1895\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1373\"}||from=192.168.231.1||traceid=c0a8e7805f30007a26e34062104dc7b0||uri=/service/service/http||method=POST
[INFO][2020-08-09T21:57:00.102][log.go:58] _com_request_in||args=map[]||spanid=9f98e72c380704bb||traceid=c0a8e7805f3000accbec40d8104dc7b0||cspanid=||uri=/service/service/http||method=POST||body={\"service_name\":\"test_http_new2\",\"service_desc\":\"test_http_new2\",\"rule\":\"/test_http_new2\",\"rule_type\":0,\"need_https\":0,\"need_strip_uri\":1,\"need_websocket\":1,\"url_rewrite\":\"\",\"head_transfor\":\"\",\"open_auth\":0,\"white_list\":\"\",\"black_list\":\"\",\"round_type\":2,\"ip_list\":\"127.0.0.1:80,127.0.0.1:81\",\"weight_list\":\"50,50\"}||from=192.168.231.1
[INFO][2020-08-09T21:57:00.102][log.go:58] _com_request_out||traceid=c0a8e7805f3000accbec40d8104dc7b0||cspanid=||uri=/service/service/http||args=map[]||proc_time=0.002724544||method=POST||from=192.168.231.1||response={\"errno\":2000,\"errmsg\":\"权重列表 不符合输入格式\",\"data\":\"\",\"trace_id\":\"c0a8e7805f3000accbec40d8104dc7b0\",\"stack\":\"github.com/jstang9527/gateway/public.DefaultGetValidParams\\n\\t/root/golib/src/github.com/jstang9527/gateway/public/params.go:34\\ngithub.com/jstang9527/gateway/dto.(*ServiceAddHTTPInput).BindValidParam\\n\\t/root/golib/src/github.com/jstang9527/gateway/dto/service.go:73\\ngithub.com/jstang9527/gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/root/golib/src/github.com/jstang9527/gateway/controller/service.go:203\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.TranslationMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/translation.go:148\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.SessionAuthMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/session_auth.go:21\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.RequestLog.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/request_log.go:61\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.RecoveryMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/recovery.go:32\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2807\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1895\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1373\"}||spanid=9f98e72c380704bb
[INFO][2020-08-09T21:58:32.234][log.go:58] _com_request_in||uri=/service/service/http||args=map[]||spanid=9f98e688380704bb||method=POST||body={\"service_name\":\"test_http_new2\",\"service_desc\":\"test_http_new2\",\"rule\":\"/test_http_new2\",\"rule_type\":0,\"need_https\":0,\"need_strip_uri\":1,\"need_websocket\":1,\"url_rewrite\":\"\",\"head_transfor\":\"\",\"open_auth\":0,\"white_list\":\"\",\"black_list\":\"\",\"round_type\":2,\"ip_list\":\"127.0.0.1:80,127.0.0.1:81\",\"weight_list\":\"50,50\"}||from=192.168.231.1||traceid=c0a8e7805f300108a2a64140104dc7b0||cspanid=
[INFO][2020-08-09T21:58:32.234][log.go:58] _com_request_out||uri=/service/service/http||args=map[]||from=192.168.231.1||spanid=9f98e688380704bb||cspanid=||method=POST||response={\"errno\":2000,\"errmsg\":\"权重列表 不符合输入格式\",\"data\":\"\",\"trace_id\":\"c0a8e7805f300108a2a64140104dc7b0\",\"stack\":\"github.com/jstang9527/gateway/public.DefaultGetValidParams\\n\\t/root/golib/src/github.com/jstang9527/gateway/public/params.go:34\\ngithub.com/jstang9527/gateway/dto.(*ServiceAddHTTPInput).BindValidParam\\n\\t/root/golib/src/github.com/jstang9527/gateway/dto/service.go:73\\ngithub.com/jstang9527/gateway/controller.(*ServiceController).ServiceAddHTTP\\n\\t/root/golib/src/github.com/jstang9527/gateway/controller/service.go:203\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.TranslationMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/translation.go:148\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.SessionAuthMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/session_auth.go:21\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.RequestLog.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/request_log.go:61\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/jstang9527/gateway/middleware.RecoveryMiddleware.func1\\n\\t/root/golib/src/github.com/jstang9527/gateway/middleware/recovery.go:32\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/contrib/sessions.Sessions.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/contrib@v0.0.0-20190526021735-7fb7810ed2a0/sessions/sessions.go:65\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.RecoveryWithWriter.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/recovery.go:83\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.LoggerWithConfig.func1\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/logger.go:241\\ngithub.com/gin-gonic/gin.(*Context).Next\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/context.go:161\\ngithub.com/gin-gonic/gin.(*Engine).handleHTTPRequest\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:409\\ngithub.com/gin-gonic/gin.(*Engine).ServeHTTP\\n\\t/root/golib/pkg/mod/github.com/gin-gonic/gin@v1.6.3/gin.go:367\\nnet/http.serverHandler.ServeHTTP\\n\\t/usr/local/go/src/net/http/server.go:2807\\nnet/http.(*conn).serve\\n\\t/usr/local/go/src/net/http/server.go:1895\\nruntime.goexit\\n\\t/usr/local/go/src/runtime/asm_amd64.s:1373\"}||proc_time=0.002885817||traceid=c0a8e7805f300108a2a64140104dc7b0
